# Release Notes v2.9.0

**Release Date:** 2026-02-09
**Type:** Feature Release
**Previous:** v2.8.1

## Overview

ìƒˆê°€ì¡± ë“±ë¡ ì‹œ ìë™ìœ¼ë¡œ êµì¸ ëª…ë¶€(`church_members`)ì— ë“±ë¡ë˜ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. Postgres íŠ¸ë¦¬ê±°ë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë¦¬ìì˜ ìˆ˜ë™ ì‘ì—… ì—†ì´ ì™„ì „ ìë™í™”ëœ í”Œë¡œìš°ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

---

## âœ¨ New Features

### 1. ìƒˆê°€ì¡± ìë™ êµì¸ ë“±ë¡ (Auto Church Member Registration)

**ë¬¸ì œì **:
- ìƒˆê°€ì¡± í¼ ì œì¶œ í›„ ê´€ë¦¬ìê°€ ìˆ˜ë™ìœ¼ë¡œ "êµì¸ìœ¼ë¡œ ì „í™˜" ì‘ì—… í•„ìš”
- ìˆ˜ì‘ì—…ìœ¼ë¡œ ì¸í•œ ì‹œê°„ ì†Œëª¨ ë° ëˆ„ë½ ê°€ëŠ¥ì„±
- ìƒˆê°€ì¡±ê³¼ êµì¸ ë°ì´í„° ë¶ˆì¼ì¹˜ ìœ„í—˜

**í•´ê²° ë°©ì•ˆ**:
- Postgres **AFTER INSERT íŠ¸ë¦¬ê±°** ì‚¬ìš©í•˜ì—¬ ìë™ ë“±ë¡
- ì¤‘ë³µ ë°©ì§€ ë¡œì§ ë‚´ì¥ (ì´ë¦„ + ì „í™”ë²ˆí˜¸ ì¡°í•©)
- ê¸°ì¡´ ë°ì´í„° ì¼ê´„ ì²˜ë¦¬(Backfill) ì§€ì›

**í”Œë¡œìš°**:
```
ìƒˆê°€ì¡± í¼ ì œì¶œ â†’ new_family_registrations (INSERT)
                     â†“ (Postgres Trigger - ìë™)
              church_members (ìë™ INSERT)
                     â†“
              [ê´€ë¦¬ìëŠ” ì¶”ê°€ ì •ë³´ë§Œ í¸ì§‘]
```

**ì£¼ìš” ê¸°ëŠ¥**:
- âœ… ì™„ì „ ìë™í™” (ê´€ë¦¬ì ê°œì… ë¶ˆí•„ìš”)
- âœ… ì¤‘ë³µ ë°©ì§€ (ê°™ì€ ì´ë¦„ + ì „í™”ë²ˆí˜¸ ì²´í¬)
- âœ… í•„ë“œ ìë™ ë§¤í•‘ (ì£¼ì†Œ í•©ì¹˜ê¸°, ì„±ë³„ ë³€í™˜, ì„¸ë¡€ ì—¬ë¶€ ê³„ì‚°)
- âœ… RLS ìš°íšŒ (`SECURITY DEFINER`ë¡œ ë¹„ì¸ì¦ ì‚¬ìš©ìë„ ê°„ì ‘ ë“±ë¡ ê°€ëŠ¥)
- âœ… ê¸°ì¡´ ë°ì´í„° Backfill (ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ ìë™ ì‹¤í–‰)

---

## ğŸ”§ Technical Changes

### Database Changes

#### 1. íŠ¸ë¦¬ê±° í•¨ìˆ˜: `auto_register_church_member()`

```sql
CREATE OR REPLACE FUNCTION auto_register_church_member()
RETURNS TRIGGER AS $$
BEGIN
  -- ì¤‘ë³µ ì²´í¬: ê°™ì€ ì´ë¦„+ì „í™”ë²ˆí˜¸ê°€ ì´ë¯¸ ìˆìœ¼ë©´ ê±´ë„ˆëœ€
  IF EXISTS (
    SELECT 1 FROM church_members
    WHERE korean_name = NEW.korean_name
    AND phone = NEW.phone
  ) THEN
    RAISE NOTICE 'church_membersì— ì´ë¯¸ ì¡´ì¬: % (%)', NEW.korean_name, NEW.phone;
    RETURN NEW;
  END IF;

  -- church_membersì— ìë™ INSERT
  INSERT INTO church_members (
    korean_name, english_name, email, phone, address,
    birth_date, gender, member_type, baptized, baptism_date, status
  ) VALUES (
    NEW.korean_name,
    NEW.english_name,
    NEW.email,
    NEW.phone,
    CONCAT_WS(', ', NULLIF(TRIM(NEW.address1), ''), ...), -- ì£¼ì†Œ í•©ì¹˜ê¸°
    NEW.birth_date,
    CASE WHEN NEW.gender IN ('male', 'female') THEN NEW.gender ELSE NULL END,
    'member',
    COALESCE(NEW.baptism_date IS NOT NULL, false),
    NEW.baptism_date,
    'active'
  );

  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

**í•µì‹¬ íŠ¹ì§•**:
- `SECURITY DEFINER`: í•¨ìˆ˜ ì†Œìœ ì(admin) ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰í•˜ì—¬ RLS ìš°íšŒ
- ì¤‘ë³µ ì²´í¬: `korean_name + phone` ì¡°í•©ìœ¼ë¡œ ê¸°ì¡´ êµì¸ í™•ì¸
- í•„ë“œ ë³€í™˜: ì£¼ì†Œ í•©ì¹˜ê¸°, ì„±ë³„ ê²€ì¦, ì„¸ë¡€ ì—¬ë¶€ ìë™ ê³„ì‚°

#### 2. íŠ¸ë¦¬ê±°: `trigger_auto_register_member`

```sql
CREATE TRIGGER trigger_auto_register_member
  AFTER INSERT ON new_family_registrations
  FOR EACH ROW
  EXECUTE FUNCTION auto_register_church_member();
```

#### 3. ê¸°ì¡´ ë°ì´í„° Backfill

ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ ê¸°ì¡´ `new_family_registrations` ì¤‘ `church_members`ì— ì—†ëŠ” ë°ì´í„°ë¥¼ ì¼ê´„ ë“±ë¡:

```sql
INSERT INTO church_members (...)
SELECT ...
FROM new_family_registrations nfr
WHERE NOT EXISTS (
  SELECT 1 FROM church_members cm
  WHERE cm.korean_name = nfr.korean_name
  AND cm.phone = nfr.phone
);

-- Backfillëœ í•­ëª©ì˜ ìƒíƒœë¥¼ 'registered'ë¡œ ì—…ë°ì´íŠ¸
UPDATE new_family_registrations nfr
SET status = 'registered'
WHERE status != 'registered'
AND EXISTS (
  SELECT 1 FROM church_members cm
  WHERE cm.korean_name = nfr.korean_name
  AND cm.phone = nfr.phone
);
```

### Field Mapping (í•„ë“œ ë§¤í•‘)

| new_family_registrations | church_members | ë³€í™˜ ê·œì¹™ |
|--------------------------|----------------|-----------|
| `korean_name` | `korean_name` | ì§ì ‘ ë§¤í•‘ |
| `english_name` | `english_name` | ì§ì ‘ ë§¤í•‘ |
| `email` | `email` | ì§ì ‘ ë§¤í•‘ |
| `phone` | `phone` | ì§ì ‘ ë§¤í•‘ (ì¤‘ë³µ ì²´í¬ í‚¤) |
| `address1`, `address2`, `city`, `state`, `zip_code` | `address` | **CONCAT_WS(', ', ...)** - ì‰¼í‘œë¡œ í•©ì¹˜ê¸° |
| `birth_date` | `birth_date` | ì§ì ‘ ë§¤í•‘ |
| `gender` | `gender` | **CASE**: 'male'/'female'ë§Œ í—ˆìš©, ë‚˜ë¨¸ì§€ NULL |
| - | `member_type` | ê³ ì •ê°’: **'member'** |
| `baptism_date` | `baptized` | **ê³„ì‚°**: `baptism_date IS NOT NULL` |
| `baptism_date` | `baptism_date` | ì§ì ‘ ë§¤í•‘ |
| - | `status` | ê³ ì •ê°’: **'active'** |

### Files Modified

| File | Changes |
|------|---------|
| `src/pages/admin/new-families/index.tsx` | ìë™ ë“±ë¡ ì•ˆë‚´ ë°°ë„ˆ ì¶”ê°€ |

### Migration Files

| File | Description |
|------|-------------|
| `supabase/migrations/20260209_auto_register_church_member.sql` | íŠ¸ë¦¬ê±° í•¨ìˆ˜, íŠ¸ë¦¬ê±° ë“±ë¡, Backfill ì¿¼ë¦¬ |

---

## ğŸ“Š Admin UI Changes

### ìƒˆê°€ì¡± ê´€ë¦¬ í˜ì´ì§€ ì—…ë°ì´íŠ¸

**ìœ„ì¹˜**: `/admin/new-families`

**ë³€ê²½ ì‚¬í•­**:
- âœ… ìë™ ë“±ë¡ ì•ˆë‚´ ë°°ë„ˆ ì¶”ê°€ (í†µê³„ ì¹´ë“œ ì•„ë˜)
- ğŸ“ ì•ˆë‚´ ë©”ì‹œì§€: "ìƒˆê°€ì¡± ë“±ë¡ ì‹œ êµì¸ ëª…ë¶€ì— ìë™ìœ¼ë¡œ ë“±ë¡ë©ë‹ˆë‹¤. ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ì§ë¶„, ë¶€ì„œ ë“± ì¶”ê°€ ì •ë³´ë¥¼ í¸ì§‘í•˜ì„¸ìš”."

**UI ìŠ¤íƒ€ì¼**:
```tsx
<div
  className="p-4 rounded-sm mb-6 flex items-center gap-3"
  style={{
    background: 'oklch(0.55 0.15 145 / 0.08)',
    border: '1px solid oklch(0.55 0.15 145 / 0.2)',
  }}
>
  <CheckCircle className="w-5 h-5 flex-shrink-0" style={{ color: 'oklch(0.40 0.15 145)' }} />
  <p className="text-sm" style={{ color: 'oklch(0.35 0.10 145)' }}>
    ìƒˆê°€ì¡± ë“±ë¡ ì‹œ êµì¸ ëª…ë¶€ì— ìë™ìœ¼ë¡œ ë“±ë¡ë©ë‹ˆë‹¤. ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ì§ë¶„, ë¶€ì„œ ë“± ì¶”ê°€ ì •ë³´ë¥¼ í¸ì§‘í•˜ì„¸ìš”.
  </p>
</div>
```

---

## ğŸ”’ Security & Permissions

### RLS ì •ì±… (Row Level Security)

#### new_family_registrations í…Œì´ë¸”
```sql
-- ê³µê°œ í¼ì´ë¯€ë¡œ ë¹„ì¸ì¦ ì‚¬ìš©ìë„ INSERT ê°€ëŠ¥ (ê¸°ì¡´)
CREATE POLICY "allow_anonymous_insert" ON new_family_registrations
  FOR INSERT WITH CHECK (true);

-- SELECTëŠ” ê´€ë¦¬ìë§Œ ê°€ëŠ¥
CREATE POLICY "admin_select" ON new_family_registrations
  FOR SELECT USING (auth.role() = 'authenticated' AND is_admin(auth.uid()));
```

#### church_members í…Œì´ë¸”
```sql
-- ëª¨ë“  ì‘ì—…ì€ ì¸ì¦ëœ ê´€ë¦¬ìë§Œ ê°€ëŠ¥
CREATE POLICY "admin_all" ON church_members
  FOR ALL USING (is_admin(auth.uid()))
  WITH CHECK (is_admin(auth.uid()));
```

**SECURITY DEFINERì˜ ì—­í• **:
- íŠ¸ë¦¬ê±° í•¨ìˆ˜ëŠ” `SECURITY DEFINER`ë¡œ ì‹¤í–‰ë˜ì–´ RLSë¥¼ ìš°íšŒ
- ë¹„ì¸ì¦ ì‚¬ìš©ìê°€ ìƒˆê°€ì¡± í¼ì„ ì œì¶œí•˜ë©´, íŠ¸ë¦¬ê±°ê°€ admin ê¶Œí•œìœ¼ë¡œ `church_members`ì— INSERT
- ì´ë¥¼ í†µí•´ ê³µê°œ í¼ â†’ ë³´í˜¸ëœ í…Œì´ë¸” ìë™ ë“±ë¡ êµ¬í˜„

---

## ğŸ“š New Documentation

### System Design Document (SDD)
- **ìœ„ì¹˜**: `DOCS/features/auto-member-registration-SDD.md`
- **ë‚´ìš©**:
  - ë¬¸ì œ ì •ì˜ ë° í•´ê²° ë°©ì•ˆ
  - ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨
  - ë°ì´í„° íë¦„ (Data Flow)
  - í•„ë“œ ë§¤í•‘ í…Œì´ë¸”
  - ì¤‘ë³µ ë°©ì§€ ì „ëµ
  - ë³´ì•ˆ ë° ê¶Œí•œ ì„¤ê³„
  - ë¡¤ë°± ì ˆì°¨

### Test Design Document (TDD)
- **ìœ„ì¹˜**: `DOCS/features/auto-member-registration-TDD.md`
- **ë‚´ìš©**:
  - 6ê°œ ì£¼ìš” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (TC-001 ~ TC-006)
  - ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸ (EC-001 ~ EC-003)
  - ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (PT-001)
  - íšŒê·€ í…ŒìŠ¤íŠ¸ (RT-001)
  - í†µí•© í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ (IT-001)
  - ë¡¤ë°± í…ŒìŠ¤íŠ¸ (RB-001)
  - ê²€ì¦ SQL ì¿¼ë¦¬
  - í…ŒìŠ¤íŠ¸ ìë™í™” ìŠ¤í¬ë¦½íŠ¸

---

## ğŸ”„ Migration Notes

### í•„ìˆ˜: Supabase SQL ì‹¤í–‰

Supabase Dashboard â†’ SQL Editorì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ì‹¤í–‰:

```bash
# íŒŒì¼ ìœ„ì¹˜
supabase/migrations/20260209_auto_register_church_member.sql
```

**ì‹¤í–‰ ë‚´ìš©**:
1. âœ… íŠ¸ë¦¬ê±° í•¨ìˆ˜ ìƒì„± (`auto_register_church_member()`)
2. âœ… íŠ¸ë¦¬ê±° ë“±ë¡ (`trigger_auto_register_member`)
3. âœ… ê¸°ì¡´ ë°ì´í„° Backfill (ì¤‘ë³µ ì œì™¸)
4. âœ… new_family_registrations ìƒíƒœ ì—…ë°ì´íŠ¸ (`status = 'registered'`)

### í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

ì‹¤í–‰ í›„ ì•„ë˜ í•­ëª©ì„ í™•ì¸í•˜ì„¸ìš”:

- [ ] íŠ¸ë¦¬ê±° í•¨ìˆ˜ê°€ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸
  ```sql
  SELECT routine_name FROM information_schema.routines
  WHERE routine_name = 'auto_register_church_member';
  ```

- [ ] íŠ¸ë¦¬ê±°ê°€ ë“±ë¡ë˜ì—ˆëŠ”ì§€ í™•ì¸
  ```sql
  SELECT trigger_name FROM information_schema.triggers
  WHERE trigger_name = 'trigger_auto_register_member';
  ```

- [ ] Backfillì´ ì •ìƒ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ í™•ì¸
  ```sql
  SELECT COUNT(*) AS backfilled_count
  FROM church_members cm
  WHERE EXISTS (
    SELECT 1 FROM new_family_registrations nfr
    WHERE nfr.korean_name = cm.korean_name
    AND nfr.phone = cm.phone
  );
  ```

- [ ] ì‹ ê·œ ë“±ë¡ í…ŒìŠ¤íŠ¸
  ```sql
  -- í…ŒìŠ¤íŠ¸ ë°ì´í„° INSERT
  INSERT INTO new_family_registrations (korean_name, phone, email)
  VALUES ('í…ŒìŠ¤íŠ¸', '010-0000-0000', 'test@example.com');

  -- church_membersì— ìë™ ë“±ë¡ë˜ì—ˆëŠ”ì§€ í™•ì¸
  SELECT * FROM church_members WHERE korean_name = 'í…ŒìŠ¤íŠ¸' AND phone = '010-0000-0000';

  -- ì •ë¦¬
  DELETE FROM church_members WHERE korean_name = 'í…ŒìŠ¤íŠ¸' AND phone = '010-0000-0000';
  DELETE FROM new_family_registrations WHERE korean_name = 'í…ŒìŠ¤íŠ¸' AND phone = '010-0000-0000';
  ```

---

## ğŸš€ Performance Impact

### ì˜ˆìƒ ì„±ëŠ¥ ì˜í–¥

- **íŠ¸ë¦¬ê±° ì˜¤ë²„í—¤ë“œ**: ê° ìƒˆê°€ì¡± ë“±ë¡ ì‹œ ì¶”ê°€ ì¿¼ë¦¬ 2ê°œ (ì¤‘ë³µ ì²´í¬ + INSERT)
- **ì‹¤ì œ ì˜í–¥**: ë¯¸ë¯¸í•¨ (ìƒˆê°€ì¡± ë“±ë¡ì€ ì €ë¹ˆë„ ì‘ì—…, ì›” í‰ê·  5-10ê±´)
- **ê¶Œì¥ ìµœì í™”**: `church_members(korean_name, phone)` ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€ (í–¥í›„)

### ëŒ€ëŸ‰ ë“±ë¡ ì„±ëŠ¥

- ë‹¨ì¼ INSERT: < 100ms
- 100ê±´ ì¼ê´„ INSERT: < 5ì´ˆ (TDD ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ê¸°ì¤€)

---

## ğŸ’¡ Benefits

### ê´€ë¦¬ì ì›Œí¬í”Œë¡œìš° ê°œì„ 

**Before** (v2.8.1 ì´ì „):
```
1. ìƒˆê°€ì¡± í¼ ì œì¶œ í™•ì¸
2. ìƒˆê°€ì¡± ê´€ë¦¬ í˜ì´ì§€ ì ‘ì†
3. "êµì¸ìœ¼ë¡œ ì „í™˜" ë²„íŠ¼ í´ë¦­
4. ë°ì´í„° ë³µì‚¬ ë° í™•ì¸
5. êµì¸ ëª…ë¶€ì—ì„œ ì¶”ê°€ ì •ë³´ í¸ì§‘
```

**After** (v2.9.0):
```
1. (ìë™ ë“±ë¡ë¨ - ê´€ë¦¬ì ì‘ì—… ë¶ˆí•„ìš”)
2. êµì¸ ëª…ë¶€ì—ì„œ ë°”ë¡œ ì¶”ê°€ ì •ë³´ í¸ì§‘ (ì§ë¶„, ë¶€ì„œ ë“±)
```

**ì‹œê°„ ì ˆê°**: ìƒˆê°€ì¡± 1ëª…ë‹¹ í‰ê·  2-3ë¶„ ì ˆì•½

### ë°ì´í„° ì¼ê´€ì„± í–¥ìƒ

- âœ… ìƒˆê°€ì¡± ë“±ë¡ ì¦‰ì‹œ êµì¸ ëª…ë¶€ì— ë°˜ì˜
- âœ… ìˆ˜ë™ ì „í™˜ ëˆ„ë½ ë°©ì§€
- âœ… ì¤‘ë³µ ë“±ë¡ ìë™ ë°©ì§€
- âœ… íˆìŠ¤í† ë¦¬ ë³´ì¡´ (new_family_registrationsëŠ” ìœ ì§€)

---

## âš ï¸ Known Limitations & Future Enhancements

### í˜„ì¬ ì œí•œ ì‚¬í•­

1. **ì „í™”ë²ˆí˜¸ í˜•ì‹**: í•˜ì´í”ˆ ìœ ë¬´ì— ë”°ë¼ ë‹¤ë¥¸ ë²ˆí˜¸ë¡œ ì·¨ê¸‰ë¨
   - ì˜ˆ: `010-1234-5678` â‰  `01012345678`
   - í–¥í›„: ì „í™”ë²ˆí˜¸ ì •ê·œí™” í•¨ìˆ˜ ì¶”ê°€ í•„ìš”

2. **ì¤‘ë³µ ê°ì§€ ë²”ìœ„**: ì´ë¦„ + ì „í™”ë²ˆí˜¸ ì¡°í•©ë§Œ ì²´í¬
   - ì´ë©”ì¼ ì¤‘ë³µì€ ë³„ë„ ì²´í¬ ì•ˆ í•¨
   - í–¥í›„: ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬ ì˜µì…˜ ì¶”ê°€ ê³ ë ¤

### í–¥í›„ ê°œì„  ì‚¬í•­

#### Short-term
- [ ] `church_members(korean_name, phone)` ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€
- [ ] ê´€ë¦¬ì UIì— "ìë™ ë“±ë¡ë¨" ë°°ì§€ í‘œì‹œ
- [ ] ì¤‘ë³µ ê°ì§€ ì‹œ ì´ë©”ì¼ ì•Œë¦¼ (ì„ íƒ)

#### Long-term
- [ ] íŠ¸ë¦¬ê±° ì‹¤í–‰ í†µê³„ ëŒ€ì‹œë³´ë“œ
- [ ] ìƒˆê°€ì¡± â†’ êµì¸ ì „í™˜ íˆìŠ¤í† ë¦¬ í…Œì´ë¸”
- [ ] ì¤‘ë³µ ì˜ì‹¬ ì¼€ì´ìŠ¤ ìë™ ë¦¬ë·° ì‹œìŠ¤í…œ
- [ ] ì „í™”ë²ˆí˜¸ ì •ê·œí™” í•¨ìˆ˜ êµ¬í˜„

---

## ğŸ› Bug Fixes

ì—†ìŒ (Feature Release)

---

## ğŸ“Š Build Statistics

| Metric | Value |
|--------|-------|
| Files Modified | 1 (Frontend) |
| Migration Files | 1 (Database) |
| New Functions | 1 (Postgres) |
| New Triggers | 1 (Postgres) |
| Build Errors | 0 |
| Test Cases | 15 (TDD) |

---

## ğŸŒ Deployment

- **Platform:** Vercel (Frontend)
- **Database:** Supabase (PostgreSQL)
- **Production URL:** https://www.sckc.org
- **Status:** Ready for Deployment
- **Migration Required:** Yes (SQL ì‹¤í–‰ í•„ìš”)

### Deployment Checklist

- [ ] Frontend ë°°í¬ (Vercel - ìë™)
- [ ] Supabase SQL ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ (ìˆ˜ë™)
- [ ] í™•ì¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (ìœ„ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì°¸ì¡°)
- [ ] ê´€ë¦¬ì êµìœ¡ (ìë™ ë“±ë¡ ì•ˆë‚´)
- [ ] ëª¨ë‹ˆí„°ë§ ì„¤ì • (íŠ¸ë¦¬ê±° ì‹¤í–‰ ë¡œê·¸)

---

## ğŸ“– References

- **SDD**: `DOCS/features/auto-member-registration-SDD.md`
- **TDD**: `DOCS/features/auto-member-registration-TDD.md`
- **Migration**: `supabase/migrations/20260209_auto_register_church_member.sql`
- **Admin UI**: `src/pages/admin/new-families/index.tsx`
- **Postgres Triggers**: https://supabase.com/docs/guides/database/postgres/triggers
- **SECURITY DEFINER**: https://www.postgresql.org/docs/current/sql-createfunction.html

---

## ğŸ‘¥ Contributors

- System
- Claude Code (Documentation)

---

## ğŸ“ Notes

ì´ ë¦´ë¦¬ìŠ¤ëŠ” êµì¸ ê´€ë¦¬ ì›Œí¬í”Œë¡œìš°ë¥¼ í¬ê²Œ ê°œì„ í•˜ëŠ” ì¤‘ìš”í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. Postgres íŠ¸ë¦¬ê±°ë¥¼ ì‚¬ìš©í•œ ìë™í™”ëŠ” í–¥í›„ ë‹¤ë¥¸ ë°ì´í„° ë™ê¸°í™” ê¸°ëŠ¥ì˜ ëª¨ë¸ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ê´€ë¦¬ì ì•ˆë‚´ì‚¬í•­**:
- ìƒˆê°€ì¡± ë“±ë¡ ì‹œ ìë™ìœ¼ë¡œ êµì¸ ëª…ë¶€ì— ë“±ë¡ë©ë‹ˆë‹¤.
- "êµì¸ìœ¼ë¡œ ì „í™˜" ë²„íŠ¼ì€ ì—¬ì „íˆ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- êµì¸ ëª…ë¶€ì—ì„œ ì§ë¶„, ë¶€ì„œ ë“± ì¶”ê°€ ì •ë³´ë¥¼ ì§ì ‘ í¸ì§‘í•˜ì„¸ìš”.
- ì¤‘ë³µ ë“±ë¡ì€ ìë™ìœ¼ë¡œ ë°©ì§€ë©ë‹ˆë‹¤ (ê°™ì€ ì´ë¦„ + ì „í™”ë²ˆí˜¸).

---

**Release Date:** 2026-02-09
**Document Version:** 1.0
